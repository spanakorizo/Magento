<?phpclass Compandsave_Catalog_Model_Convert_Adapter_Product    extends Mage_Catalog_Model_Convert_Adapter_Product{	protected $mapping_data = null;	protected $sku_data = null;		public function saveRow(array $importData)    {    	$this->sku_data = $importData['sku'];		$product_in = Mage::getModel('catalog/product')->loadByAttribute('sku',$this->sku_data);		//$importData['_links_related_sku'] = explode(',', $importData['related_simple_productcode']);		if (!$product_in) {$importData['need_mapping'] = 'yes';}		else {			$importData['need_mapping'] = 'no';			if ($product_in->getTypeId() === 'simple') {				if (!empty($importData['compatible_catid'])) {					if ($product_in->getCompatibleCatid() != $importData['compatible_catid'] ) {						$importData['need_mapping'] = 'yes';					}    			}     			if (!$mapping_flag && (!empty($importData['related_simple_productcode']) || !empty($importData['related_bundle_productcode']) )) {					if ($product_in->getRelatedSimpleProductcode() != $importData['related_simple_productcode'] || $product_in->getRelatedBundleProductcode() != $importData['related_bundle_productcode'] ) {						/*$related_text = trim($importData['related_simple_productcode']) . "," . trim($importData['related_bundle_productcode']);						$related_products = explode(',', $related_text);						$data = [];						foreach ($related_products as $related_item) {							if ($related_item != "")							{$item = Mage::getModel("catalog/product")->getIdBySku($related_item);							$data[$item] = array('position'=>'0');}						}						print_r($data);						$product_in->setRelatedLinkData($data);*/					}    			}    			 			}		}				parent::saveRow($importData);			      }}